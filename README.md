## Основы алгоритмизации и программирования

- [Подготовка компилятора C и IDE Visual Studio Code](https://github.com/the-hwk/GSTU-algorithms-and-programming-basics/blob/main/%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D0%BA%D0%BE%D0%BC%D0%BF%D0%B8%D0%BB%D1%8F%D1%82%D0%BE%D1%80%D0%B0%20%D0%B8%20IDE%20VS%20Code.pdf)
- [Теория и пример работы с бинарными файлами и структурами](https://github.com/the-hwk/GSTU-algorithms-and-programming-basics/tree/main/file-example)

## Требования к экзамену

Задача на экзамене - разработка программы для работы с данными, описывающими некоторую предметную область, с использованием структур и бинарных файлов.

**За отведенное на экзамене время необходимо реализовать программу со следующим функционалом:**
- ввод данных (с использованием консоли)
- вывод данных в табличном виде (в консоли)
- удаление записи по номеру
- поиск/фильтрация/сортировка данных по заданному условию
- сохранение данных в бинарный файл
- чтение данных из бинарного файла

Для получения минимальной оценки на экзамене необходимо реализовать хотя-бы первые 3 пункта.

**Требования к программе следующие:**
- данные, описывающие сущности предметной области, должны быть реализованы в виде структур
- программа должна быть разбита на функции, при этом функция должна выполнять только одну задачу
- не должно быть дублирования кода (особенно в коде для вывода данных)
- при реализации консольного меню не допускается написание больших кусков кода в конструкциях switch-case и if-else

Вы можете посмотреть [пример](https://github.com/the-hwk/GSTU-algorithms-and-programming-basics/tree/main/file-example) такой программы. Обратите внимание на то, как программа разбита на функции.

**Что подразумевается под дублированием кода и выполнением функцией только одной задачи?**

Например, необходимо удалить записи по некоторому условию, т.е. выполнить два действия: поиск и удаление. Соответственно, если действия два, то и функции должно быть две.

Это пример **НЕПРАВИЛЬНОЙ** реализации функции:

```C
void removeAdvertsByMonth(int month) {
    for (int i = 0; i < db.count; i++) {
        // Если месяц выхода объявления совпадает, то удаляем его
        if (db.elements[i].date.month == month) {
            // Удаляем путем смещения массива
            for (int j = i; j < db.count - 1; j++) {
                db.elements[j] = db.elements[j + 1];
            }

            db.count--;
            i--;
        }
    }
}
```

В данном случае функция выполняет два действия: поиск и удаление. А если нам придется в будущем изменить логику удаления? Или добавить удаление по другим условиям? В таком случае программа будет трудно расширяемая, что приведет к дублированию кода и к проблемам его модификации.

Поэтому функции необходимо реализовывать так, чтобы они выполняли только одну задачу:

```C
void removeAdvert(int index) {
    // Удаляем путем смещения элементов массива
    for (int i = index; i < db.count - 1; i++) {
        db.elements[i] = db.elements[i + 1];
    }

    db.count--;
}

void removeAdvertsByMonth(int month) {
    for (int i = 0; i < db.count; i++) {
        // Если месяц выхода объявления совпадает, то удаляем его
        if (db.elements[i].date.month == month) {
            // Удаляем вызовом функции для удаления объявления
            // при этом после удаления уменьшаем индекс на 1
            removeAdvert(i--);
        }
    }
}
```

Теперь у нас есть две функции:
- `removeAdvert` - отвечает за удаление записи
- `removeAdvertByMonth` - отвечает за удаление по условию
    - при этом, эта функция сама по себе выполняет только поиск. Задачу удаления записи она делегирует функции `removeAdvert`

Таким образом, при необходимости мы сможем легко менять логику удаления записи (функцию), при этом не затрагивая другие функции, которые ее используют.